---
title: API Endpoints
description: REST API reference for Tileserver RS
---

# API Endpoints

Tileserver RS provides a REST API for accessing tiles and metadata.

## Health Check

```
GET /health
```

Returns `OK` if the server is running.

**Response:** `200 OK`

## List All Sources

```
GET /data.json
```

Returns a list of all available tile sources with their TileJSON metadata.

**Response:**

```json
[
  {
    "tilejson": "3.0.0",
    "name": "OpenMapTiles",
    "tiles": ["http://localhost:8080/data/openmaptiles/{z}/{x}/{y}.pbf"],
    "minzoom": 0,
    "maxzoom": 14,
    "bounds": [-180, -85.0511, 180, 85.0511],
    "center": [0, 0, 2]
  }
]
```

## Get Source TileJSON

```
GET /data/{source}.json
```

Returns TileJSON metadata for a specific source.

**Parameters:**

| Name | Type | Description |
|------|------|-------------|
| `source` | string | Source ID |

**Response:**

```json
{
  "tilejson": "3.0.0",
  "name": "OpenMapTiles",
  "tiles": ["http://localhost:8080/data/openmaptiles/{z}/{x}/{y}.pbf"],
  "vector_layers": [...],
  "minzoom": 0,
  "maxzoom": 14,
  "bounds": [-180, -85.0511, 180, 85.0511],
  "center": [0, 0, 2]
}
```

## Get Tile

```
GET /data/{source}/{z}/{x}/{y}.{format}
```

Returns a single tile from a source.

**Parameters:**

| Name | Type | Description |
|------|------|-------------|
| `source` | string | Source ID |
| `z` | integer | Zoom level (0-22) |
| `x` | integer | Tile X coordinate |
| `y` | integer | Tile Y coordinate |
| `format` | string | Tile format (`pbf`, `png`, `jpg`, `webp`) |

**Response Headers:**

| Header | Description |
|--------|-------------|
| `Content-Type` | MIME type based on format |
| `Content-Encoding` | `gzip` if tile is compressed |
| `Cache-Control` | Caching headers |

**Response Codes:**

| Code | Description |
|------|-------------|
| `200` | Tile found and returned |
| `204` | Tile not found (empty response) |
| `400` | Invalid coordinates |
| `404` | Source not found |

## List Styles

```
GET /styles.json
```

Returns a list of all available map styles.

**Response:**

```json
[
  {
    "id": "protomaps-light",
    "name": "Protomaps Light",
    "url": "http://localhost:8080/styles/protomaps-light/style.json"
  }
]
```

## Get Style JSON

```
GET /styles/{style}/style.json
```

Returns the MapLibre/Mapbox GL style JSON for vector rendering.

## Get Raster TileJSON

```
GET /styles/{style}.json
```

Returns TileJSON metadata for raster tile rendering of a style.

**Response:**

```json
{
  "tilejson": "3.0.0",
  "name": "Protomaps Light",
  "tiles": ["http://localhost:8080/styles/protomaps-light/{z}/{x}/{y}.png"],
  "minzoom": 0,
  "maxzoom": 22
}
```

## Get Raster Tile

```
GET /styles/{style}/{z}/{x}/{y}[@{scale}x].{format}
```

Returns a rendered raster tile from a vector style.

**Parameters:**

| Name | Type | Description |
|------|------|-------------|
| `style` | string | Style ID |
| `z` | integer | Zoom level (0-22) |
| `x` | integer | Tile X coordinate |
| `y` | integer | Tile Y coordinate |
| `scale` | integer | Optional scale factor (1-3, default: 1) |
| `format` | string | Output format (`png`, `jpeg`, `webp`) |

**Examples:**
```
/styles/protomaps-light/14/8192/5461.png          # 512x512 PNG @ 1x
/styles/protomaps-light/14/8192/5461@2x.png       # 1024x1024 PNG @ 2x (retina)
/styles/protomaps-light/14/8192/5461.webp         # 512x512 WebP
```

**Performance:**
- Warm cache: ~100ms per tile
- Cold cache: ~700-800ms (includes tile fetching)

## Get Static Map Image

```
GET /styles/{style}/static/{type}/{width}x{height}[@{scale}x].{format}
```

Returns a static map image centered on a location or bounding box.

**Static Image Types:**
- **Center**: `{lon},{lat},{zoom}[@{bearing}[,{pitch}]]`
- **Bounding Box**: `{minx},{miny},{maxx},{maxy}`
- **Auto-fit**: `auto` (with `?path=` or `?marker=` query params)

**Examples:**
```
/styles/protomaps-light/static/-122.4,37.8,12/800x600.png
/styles/protomaps-light/static/-122.4,37.8,12@45,60/800x600@2x.webp
/styles/protomaps-light/static/-123,37,-122,38/1024x768.jpeg
```
