---
title: Configuration
description: How to configure Tileserver RS
---

# Configuration

Tileserver RS uses a TOML configuration file to define tile sources, styles, and server settings.

## Configuration File

Create a `config.toml` file:

```toml
[server]
host = "0.0.0.0"
port = 8080
cors_origins = ["*"]

[[sources]]
id = "openmaptiles"
type = "pmtiles"
path = "/data/tiles.pmtiles"
name = "OpenMapTiles"
attribution = "© OpenMapTiles © OpenStreetMap contributors"

[[sources]]
id = "terrain"
type = "mbtiles"
path = "/data/terrain.mbtiles"
name = "Terrain Data"

[[styles]]
id = "osm-bright"
path = "/data/styles/osm-bright/style.json"
```

## Server Configuration

| Option | Description | Default |
|--------|-------------|---------|
| `host` | IP address to bind to | `0.0.0.0` |
| `port` | Port number | `8080` |
| `cors_origins` | Allowed CORS origins | `["*"]` |

## Source Configuration

Each source requires:

| Option | Description | Required |
|--------|-------------|----------|
| `id` | Unique identifier | Yes |
| `type` | `pmtiles` or `mbtiles` | Yes |
| `path` | Path to tile file (local or URL) | Yes |
| `name` | Display name | No |
| `attribution` | Map attribution | No |

### PMTiles Sources

```toml
[[sources]]
id = "world"
type = "pmtiles"
path = "/data/world.pmtiles"
# Or from a URL (requires http feature)
# path = "https://example.com/tiles.pmtiles"
```

### MBTiles Sources

```toml
[[sources]]
id = "local-data"
type = "mbtiles"
path = "/data/local.mbtiles"
```

## Style Configuration

```toml
[[styles]]
id = "bright"
path = "/data/styles/bright/style.json"
name = "Bright Style"  # Optional display name
```

Styles should include sprites alongside the `style.json`:

```
styles/
└── bright/
    ├── style.json
    ├── sprite.json
    ├── sprite.png
    ├── sprite@2x.json
    └── sprite@2x.png
```

## Font Configuration

Fonts are required for rendering text labels. Configure the fonts directory:

```toml
fonts = "/data/fonts"
```

The fonts directory should contain subdirectories for each font family with PBF glyph files:

```
fonts/
├── Noto Sans Regular/
│   ├── 0-255.pbf
│   ├── 256-511.pbf
│   └── ...
├── Noto Sans Medium/
│   ├── 0-255.pbf
│   └── ...
└── Open Sans Bold/
    └── ...
```

::alert{type="info"}
Font glyph PBF files can be generated using tools like [node-fontnik](https://github.com/mapbox/node-fontnik) or downloaded from [OpenMapTiles fonts](https://github.com/openmaptiles/fonts).
::

## Environment Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `RUST_LOG` | Log level (error, warn, info, debug, trace) | `info` |
| `CONFIG_PATH` | Path to config file | `config.toml` |
| `HOST` | Override server host | - |
| `PORT` | Override server port | - |

## CLI Options

```bash
tileserver-rs --help

Options:
  -c, --config <FILE>  Path to configuration file [default: config.toml]
  -h, --host <HOST>    Override server host
  -p, --port <PORT>    Override server port
  -v, --verbose        Enable verbose logging
      --help           Print help
      --version        Print version
```
